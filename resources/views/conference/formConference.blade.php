<section class="px-4 py-16 bg-opacity-0">
        <div class="max-w-2xl mx-auto">
            <h2 class="mb-12 text-4xl font-bold text-center text-gray-50">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –ñ–∏–≤–∏ –•—Ä–∏—Å—Ç–æ–º 2025</h2>
            
             {{-- Registration Form Card  --}}
            <div class="p-8 bg-white shadow-lg rounded-xl">
                 {{-- Progress Bar  --}}
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-600">–®–∞–≥ <span id="current-step">1</span> –∏–∑ 13</span>
                        <span class="text-sm font-medium text-gray-600"><span id="progress-percent">25</span>%</span>
                    </div>
                    <div class="w-full h-2 bg-gray-200 rounded-full">
                        <div id="progress-bar" class="h-2 transition-all duration-300 rounded-full bg-confprimary" style="width: 25%"></div>
                    </div>
                </div>

                <form id="registration-form">
                     {{-- Step 1: Full Name  --}}
                    

                    <div id="step-1" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">person</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <p class="mt-2 text-gray-600">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é</p>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label for="surname" class="block mb-2 text-sm font-medium text-gray-700">–í–∞—à–∞ –§–∞–º–∏–ª–∏—è</label>
                                <input type="text" id="surname" name="surname" required 
                                       class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                       placeholder="–ò–≤–∞–Ω–æ–≤">
                            </div>
                        </div>
                    </div>

                    <div id="step-2" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">person</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <p class="mt-2 text-gray-600">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è</p>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label for="name" class="block mb-2 text-sm font-medium text-gray-700">–í–∞—à–µ –ò–º—è</label>
                                <input type="text" id="name" name="name" required 
                                       class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                       placeholder="–ò–≤–∞–Ω">
                            </div>
                        </div>
                    </div>

                    <div id="step-3" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">email</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <p class="mt-2 text-gray-600">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email</p>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label for="email" class="block mb-2 text-sm font-medium text-gray-700">–í–∞—à Email</label>
                                <input type="email" id="email" name="email" required 
                                       class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                       placeholder="ivanov@mail.ru">
                            </div>
                        </div>
                    </div>

                    <div id="step-4" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">phone</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <p class="mt-2 text-gray-600">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label for="phone" class="block mb-2 text-sm font-medium text-gray-700">–í–∞—à–∞ –ù–æ–º–µ—Ä –¢–µ–ª–µ—Ñ–æ–Ω–∞</label>
                                <input type="text" id="phone" name="phone" required 
                                       class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                       placeholder="+71234567890">
                            </div>
                        </div>
                    </div>

                    <div id="step-5" class="hidden form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">wc</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–í–∞—à –ø–æ–ª</h3>
                            <p class="mt-2 text-gray-600">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –ø–æ–ª</p>
                        </div>
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="gender" value="brother" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg gender-option hover:border-confprimary">
                                        <div class="mb-2 text-2xl">üë®</div>
                                        <span class="font-medium text-gray-900">–ë—Ä–∞—Ç</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="gender" value="sister" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg gender-option hover:border-confprimary">
                                        <div class="mb-2 text-2xl">üë©</div>
                                        <span class="font-medium text-gray-900">–°–µ—Å—Ç—Ä–∞</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div id="step-6" class="hidden form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">schedule</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç</h3>
                            <p class="mt-2 text-gray-600">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç</p>
                        </div>
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="age" value="15-17" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg age-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë®</div> --}}
                                        <span class="font-medium text-gray-900">15-17</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="age" value="18-20" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg age-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë©</div> --}}
                                        <span class="font-medium text-gray-900">18-20</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="age" value="21-25" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg age-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë®</div> --}}
                                        <span class="font-medium text-gray-900">21-25</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="age" value="26-30" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg age-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë©</div> --}}
                                        <span class="font-medium text-gray-900">26-30</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="age" value="30+" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg age-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë®</div> --}}
                                        <span class="font-medium text-gray-900">30+</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                     {{-- Step 2: Church/City  --}}
                    <div id="step-7" class="hidden form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">location_on</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–∏</h3>
                            <p class="mt-2 text-gray-600">–í—ã–±–∏—Ä–∏—Ç–µ –≤—ã—à—É –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è</p>
                        </div>
                       <div class="space-y-4">
                            <div>
                                <label for="region" class="block mb-2 text-sm font-medium text-gray-700">–†–µ–≥–∏–æ–Ω –†–§</label>
                                <select id="region" name="region" required
                                        class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent">
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω</option>

                                    <!-- –†–µ—Å–ø—É–±–ª–∏–∫–∏ -->
                                    <option value="adygea">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è</option>
                                    <option value="altai-republic">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π</option>
                                    <option value="bashkortostan">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω</option>
                                    <option value="buryatia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë—É—Ä—è—Ç–∏—è</option>
                                    <option value="dagestan">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –î–∞–≥–µ—Å—Ç–∞–Ω</option>
                                    <option value="ingushetia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ò–Ω–≥—É—à–µ—Ç–∏—è</option>
                                    <option value="kabardino-balkaria">–ö–∞–±–∞—Ä–¥–∏–Ω–æ-–ë–∞–ª–∫–∞—Ä—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                                    <option value="kalmykia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞–ª–º—ã–∫–∏—è</option>
                                    <option value="karachay-cherkess">–ö–∞—Ä–∞—á–∞–µ–≤–æ-–ß–µ—Ä–∫–µ—Å—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                                    <option value="karelia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è</option>
                                    <option value="komi">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏</option>
                                    <option value="mari-el">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞—Ä–∏–π –≠–ª</option>
                                    <option value="mordovia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–æ—Ä–¥–æ–≤–∏—è</option>
                                    <option value="sakha-yakutia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)</option>
                                    <option value="north-ossetia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–µ–≤–µ—Ä–Ω–∞—è –û—Å–µ—Ç–∏—è ‚Äî –ê–ª–∞–Ω–∏—è</option>
                                    <option value="tatarstan">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω</option>
                                    <option value="tyva">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢—ã–≤–∞</option>
                                    <option value="udmurt">–£–¥–º—É—Ä—Ç—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                                    <option value="khakassia">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –•–∞–∫–∞—Å–∏—è</option>
                                    <option value="chechnya">–ß–µ—á–µ–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                                    <option value="chuvashia">–ß—É–≤–∞—à—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                                    
                                    <!-- –ö—Ä–∞—è -->
                                    <option value="altai-krai">–ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="zabaykalsky">–ó–∞–±–∞–π–∫–∞–ª—å—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="kamchatka">–ö–∞–º—á–∞—Ç—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="krasnodar">–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="krasnoyarsk">–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="permsky">–ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="primorsky">–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="stavropol">–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π</option>
                                    <option value="khabarovsk">–•–∞–±–∞—Ä–æ–≤—Å–∫–∏–π –∫—Ä–∞–π</option>

                                    <!-- –û–±–ª–∞—Å—Ç–∏ -->
                                    <option value="amur">–ê–º—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="arkhangelsk">–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="astrakhan">–ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="belgorod">–ë–µ–ª–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="bryansk">–ë—Ä—è–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="vladimir">–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="volgograd">–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="vologda">–í–æ–ª–æ–≥–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="voronezh">–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="ivanovo">–ò–≤–∞–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="irkutsk">–ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="kaliningrad">–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="kaluga">–ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="kemerovo">–ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Äî –ö—É–∑–±–∞—Å—Å</option>
                                    <option value="kirov">–ö–∏—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="kostroma">–ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="kurgan">–ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="kursk">–ö—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="leningrad">–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="lipetsk">–õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="magadan">–ú–∞–≥–∞–¥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="moscow-region">–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="murmansk">–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="nizhny-novgorod">–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="novgorod">–ù–æ–≤–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="novosibirsk">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="omsk">–û–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="orenburg">–û—Ä–µ–Ω–±—É—Ä–≥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="orel">–û—Ä–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="penza">–ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="pskov">–ü—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="rostov">–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="ryazan">–†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="samara">–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="saratov">–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="sakhalin">–°–∞—Ö–∞–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="sverdlovsk">–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="smolensk">–°–º–æ–ª–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="tambov">–¢–∞–º–±–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="tver">–¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="tomsk">–¢–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="tula">–¢—É–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="tyumen">–¢—é–º–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="ulyanovsk">–£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="chelyabinsk">–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="yaroslavl">–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    
                                    <!-- –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ –æ–∫—Ä—É–≥–∞ –∏ –æ–±–ª–∞—Å—Ç–∏ -->
                                    <option value="jewish">–ï–≤—Ä–µ–π—Å–∫–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                                    <option value="nenets">–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</option>
                                    <option value="khanty-mansi">–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ ‚Äî –Æ–≥—Ä–∞</option>
                                    <option value="chukotka">–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</option>
                                    <option value="yamalo-nenets">–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</option>
                                    <option value="none">–Ø –Ω–µ –∏–∑ –†–æ—Å—Å–∏–∏</option>
                                </select>
                            </div>
                        </div>

                    </div>

                    <div id="step-8" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">location_on</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–∏</h3>
                            <p class="mt-2 text-gray-600">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≥–æ—Ä–æ–¥ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è</p>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label for="city" class="block mb-2 text-sm font-medium text-gray-700">–ì–æ—Ä–æ–¥ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è</label>
                                <input type="text" id="city" name="city" required 
                                    class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                    placeholder="–ë—Ä—è–Ω—Å–∫">
                                <ul id="city-suggestions" class="absolute z-50 hidden w-full mt-1 overflow-y-auto bg-white border border-gray-300 rounded-lg max-h-40"></ul>
                            </div>
                        </div>
                    </div>

                    <div id="step-9" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">church</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –í–∞—à–µ–π –¶–µ—Ä–∫–≤–∏</h3>
                            <p class="mt-2 text-gray-600">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –¶–µ—Ä–∫–≤–∏, –∫–æ—Ç–æ—Ä—É—é –í—ã –ø–æ—Å–µ—â–∞–µ—Ç–µ</p>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label for="church" class="block mb-2 text-sm font-medium text-gray-700">–¶–µ—Ä–∫–æ–≤—å</label>
                                <input type="text" id="church" name="church" required 
                                    class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                    placeholder="–ï–•–ë –ü–µ—Ä–≤—ã–π –ë—Ä—è–Ω—Å–∫">
                                <ul id="city-suggestions" class="absolute z-50 hidden w-full mt-1 overflow-y-auto bg-white border border-gray-300 rounded-lg max-h-40"></ul>
                            </div>
                        </div>
                    </div>
                    <div id="step-10" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">church</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–î–µ–Ω–æ–º–∏–Ω–∞—Ü–∏—è –í–∞—à–µ–π –¶–µ—Ä–∫–≤–∏</h3>
                            <p class="mt-2 text-gray-600">–í–≤–µ–¥–∏—Ç–µ –¥–µ–Ω–æ–º–∏–Ω–∞—Ü–∏—é –¶–µ—Ä–∫–≤–∏, –∫–æ—Ç–æ—Ä—É—é –í—ã –ø–æ—Å–µ—â–∞–µ—Ç–µ</p>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label for="denomination" class="block mb-2 text-sm font-medium text-gray-700">–î–µ–Ω–æ–º–∏–Ω–∞—Ü–∏—è –¶–µ—Ä–∫–≤–∏</label>
                                <input type="text" id="denomination" name="denomination" required 
                                    class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                    placeholder="–ï–≤–∞–Ω–≥–µ–ª—å—Å–∫–∏–µ –•—Ä–∏—Å—Ç–∏–∞–Ω–µ –ë–∞–ø—Ç–∏—Å—Ç—ã">
                                <ul id="city-suggestions" class="absolute z-50 hidden w-full mt-1 overflow-y-auto bg-white border border-gray-300 rounded-lg max-h-40"></ul>
                            </div>
                        </div>
                    </div>

                    <div id="step-11" class="hidden form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">person</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–í–∞—à–µ —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</h3>
                            <p class="mt-2 text-gray-600">–£–∫–∞–∂–∏—Ç–µ –≤–∞—à–µ —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</p>
                        </div>
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 gap-4">
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="maritalstatus" value="married" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg maritalstatus-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë®</div> --}}
                                        <span class="font-medium text-gray-900">–ñ–µ–Ω–∞—Ç/–ó–∞–º—É–∂–µ–º</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="maritalstatus" value="notmarried" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg maritalstatus-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë©</div> --}}
                                        <span class="font-medium text-gray-900">–ù–µ –∂–µ–Ω–∞—Ç/–ù–µ –∑–∞–º—É–∂–µ–º</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div id="step-12" class="relative hidden pb-32 form-step sm:pb-20">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">bed</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–ù–æ—á–ª–µ–≥</h3>
                            <p class="mt-2 text-gray-600">–£–∫–∞–∂–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç</p>
                        </div>
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 gap-4">
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="sleep" value="required" disabled class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 bg-gray-300 border-2 border-gray-300 rounded-lg sleep-option">
                                        {{-- <div class="mb-2 text-2xl">üë®</div> --}}
                                        <span class="font-medium text-gray-600">–ú–Ω–µ –Ω—É–∂–µ–Ω –Ω–æ—á–ª–µ–≥*</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="sleep" value="self" required class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 border-2 border-gray-300 rounded-lg sleep-option hover:border-confprimary">
                                        {{-- <div class="mb-2 text-2xl">üë©</div> --}}
                                        <span class="font-medium text-gray-900">–Ø —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ—à—É —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å</span>
                                    </div>
                                </label>
                                <label class="relative cursor-pointer">
                                    <input type="radio" name="sleep" value="help" disabled class="sr-only">
                                    <div class="p-4 text-center transition-all duration-200 bg-gray-300 border-2 border-gray-300 rounded-lg sleep-option">
                                        {{-- <div class="mb-2 text-2xl">üë©</div> --}}
                                        <span class="font-medium text-gray-600">–Ø –Ω–æ—á—É—é –¥–æ–º–∞, –∏ —É –º–µ–Ω—è –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–æ—á–ª–µ–≥</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="absolute bottom-0 left-0 p-4 text-sm text-red-500">
                            <p>*–í–ù–ò–ú–ê–ù–ò–ï: –í —Å–≤—è–∑–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –º–µ—Å—Ç, –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–æ—á–ª–µ–≥ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏.</p>
                        </div>
                    </div>

                    <div id="step-13" class="form-step">
                        <div class="mb-6 text-center">
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-confprimary">
                                <span class="text-3xl text-white material-icons">comment</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">–í–∞—à–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>
                            <p class="mt-2 text-gray-600">–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —á—Ç–æ –Ω–∞–º —Å–∫–∞–∑–∞—Ç—å - –ø–∏—à–∏—Ç–µ!</p>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label for="wishes" class="block mb-2 text-sm font-medium text-gray-700">–ü–æ–∂–µ–ª–∞–Ω–∏—è/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</label>
                                <input type="text" id="wishes" name="wishes" 
                                    class="w-full px-4 py-3 transition-all duration-200 border border-gray-300 rounded-lg focus:ring-2 focus:ring-confprimary focus:border-transparent"
                                    placeholder="–Ø —Å—á–∏—Ç–∞—é...">
                                <ul id="city-suggestions" class="absolute z-50 hidden w-full mt-1 overflow-y-auto bg-white border border-gray-300 rounded-lg max-h-40"></ul>
                            </div>
                        </div>
                    </div>

                     {{-- Navigation Buttons  --}}
                    <div class="flex justify-between gap-2 mt-8">
                        <!-- Back –∫–Ω–æ–ø–∫–∞ -->
                        <button type="button" id="prev-btn" onclick="previousStep()"
                                class="flex items-center justify-center hidden w-12 h-12 text-gray-700 border border-gray-300 rounded-full hover:bg-gray-100">
                            <span class="material-icons">arrow_back</span>
                        </button>

                        <div class="flex-1"></div>

                        <!-- Next –∫–Ω–æ–ø–∫–∞ -->
                        <button type="button" id="next-btn" onclick="nextStep()"
                                class="flex items-center justify-center w-12 h-12 text-white rounded-full bg-confprimary hover:bg-confsecondary">
                            <span class="material-icons">arrow_forward</span>
                        </button>

                        <!-- Submit –∫–Ω–æ–ø–∫–∞ -->
                        <button type="submit" id="submit-btn"
                                class="flex items-center justify-center hidden w-12 h-12 text-white rounded-full bg-confprimary hover:bg-confsecondary">
                            <span class="material-icons">check</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <script>
        let currentStep = 1;
        const totalSteps = 13;

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('current-step').textContent = currentStep;
            document.getElementById('progress-percent').textContent = Math.round(progress);
        }

        function showStep(step) {
            // Hide all steps
            document.querySelectorAll('.form-step').forEach(el => el.classList.add('hidden'));
            
            // Show current step
            document.getElementById(`step-${step}`).classList.remove('hidden');
            
            // Update navigation buttons
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            
            if (step === 1) {
                prevBtn.classList.add('hidden');
            } else {
                prevBtn.classList.remove('hidden');
            }
            
            if (step === totalSteps) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
            
            updateProgress();
        }

        function nextStep() {
            if (validateCurrentStep() && currentStep < totalSteps) {
                currentStep++;
                showStep(currentStep);
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        function validateCurrentStep() {
            const currentStepEl = document.getElementById(`step-${currentStep}`);
            const inputs = currentStepEl.querySelectorAll('input[required], select[required], textarea[required]');

            let isValid = true;

            inputs.forEach(input => {
                if (input.type === 'radio') {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å—é –≥—Ä—É–ø–ø—É
                    const groupName = input.name;
                    const checked = currentStepEl.querySelector(`input[name="${groupName}"]:checked`);
                    if (!checked) {
                        isValid = false;
                    }
                } else if (input.type === 'checkbox') {
                    if (!input.checked) {
                        isValid = false;
                    }
                } else {
                    if (!input.value.trim()) {
                        isValid = false;
                    }
                }
            });

            if (!isValid) {
                // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞)
                currentStepEl.classList.add('animate-shake');
                setTimeout(() => currentStepEl.classList.remove('animate-shake'), 500);
            }

            return isValid;
        }

         // Handle radio button styling
        document.addEventListener('change', function(e) {
            if (e.target.type === 'radio') {
                // Reset all options in the same group
                const groupName = e.target.name;
                document.querySelectorAll(`input[name="${groupName}"]`).forEach(radio => {
                    const option = radio.parentElement.querySelector('.gender-option, .age-option, .maritalstatus-option, .sleep-option');
                    if (option) {
                        option.classList.remove('border-confprimary', 'bg-blue-50');
                        option.classList.add('border-gray-300');
                    }
                });
                
                // Highlight selected option
                const selectedOption = e.target.parentElement.querySelector('.gender-option, .age-option, .maritalstatus-option, .sleep-option');
                if (selectedOption) {
                    selectedOption.classList.add('border-confprimary', 'bg-blue-50');
                    selectedOption.classList.remove('border-gray-300');
                }
            }
        });

        // Handle form submission
       function collectFormData() {
            const formData = new FormData();
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —à–∞–≥–∏ —Ñ–æ—Ä–º—ã
            document.querySelectorAll('.form-step').forEach(step => {
                // –ò—â–µ–º –≤—Å–µ input, select, textarea
                step.querySelectorAll('input, select, textarea').forEach(input => {
                    if (!input.name) return; // –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, –µ—Å–ª–∏ –Ω–µ—Ç name
                    if (input.type === 'radio') {
                        if (input.checked) formData.append(input.name, input.value);
                    } else if (input.type === 'checkbox') {
                        formData.append(input.name, input.checked ? 1 : 0);
                    } else {
                        formData.append(input.name, input.value.trim());
                    }
                });
            });

            return formData;
        }

        // –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∞–±–º–∏—Ç–∞ —Ñ–æ—Ä–º—ã
        document.getElementById('registration-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —à–∞–≥–∞
            if (!validateCurrentStep()) return;

            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            const data = collectFormData();

            // –ü—Ä–∏–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ fetch
            
            try {
                const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
                const response = await fetch('/conference/registration', {
                    method: 'POST',
                    headers: {
                        'X-CSRF-TOKEN': csrfToken,
                        'Accept': 'application/json'
                    },
                    body: data,
                });

                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        window.location.replace("/conference/success");
                    }else{
                        window.location.replace("/conference/fial");
                    }
                }else if (response.status === 422) {
                // –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
                    const errorData = await response.json();
                    console.error("‚ö†Ô∏è –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:", errorData.errors);

                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ —Ç–æ—Å—Ç—ã
                    Object.values(errorData.errors).forEach(messages => {
                        messages.forEach(msg => showToast(msg, "error"));
                    });
                } else {
                    const errorText = await response.text();
                    console.error("‚ùå –û—à–∏–±–∫–∞:", errorText);
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã.');
                }
            } catch (err) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã:', err);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
            }
        });

        // Initialize
        showStep(1);
    </script>